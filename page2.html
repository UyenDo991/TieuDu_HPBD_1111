<!DOCTYPE html>
<html>
    <head>
        <title>Happy Birthday</title>
        <link rel="stylesheet" href="./css/page2.css">
		<script type="text/javascript" src="./js/style.js" charset="utf-8"></script>
    </head>
    <body>
        <button id="musicButton">üéµ B·∫≠t nh·∫°c</button>
        <div class="box">
            <ul class="minbox">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>
            <ol class="maxbox">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ol>
        </div>
        <audio id="player" loop>
            <source src="./music/music2.mp3" type="audio/mp3" />
        </audio>
        <script>
            window.addEventListener('DOMContentLoaded', () => {
                const box = document.querySelector('.box');

                function toggleHover() {
                    setTimeout(() => {
                        box.classList.add('hovered'); // M·ªü r·ªông sau 3 gi√¢y
                    }, 3000);

                    setTimeout(() => {
                        box.classList.remove('hovered'); // Thu l·∫°i sau th√™m 7 gi√¢y
                    }, 10000);
                    const minImages = [
                        './images/pic1.jpg',
                        './images/pic2.jpg',
                        './images/pic3.jpg',
                        './images/pic4.jpg',
                        './images/pic5.jpg',
                        './images/pic6.jpg'
                        ];

                        const maxImages = [
                        './images/pic7.jpg',
                        './images/pic8.jpg',
                        './images/pic9.jpg',
                        './images/pic10.jpg',
                        './images/pic11.jpg',
                        './images/pic12.jpg'
                        ];

                        // H√†m x√°o tr·ªôn m·∫£ng (Fisher‚ÄìYates)
                        function shuffle(array) {
                        let arr = array.slice(); // copy m·∫£ng g·ªëc
                        for (let i = arr.length - 1; i > 0; i--) {
                            const j = Math.floor(Math.random() * (i + 1));
                            [arr[i], arr[j]] = [arr[j], arr[i]];
                        }
                        return arr;
                        }

                        // Random ·∫£nh kh√¥ng tr√πng
                        const shuffledMin = shuffle(minImages);
                        const shuffledMax = shuffle(maxImages);

                        // G√°n ·∫£nh theo th·ª© t·ª± ƒë√£ x√°o tr·ªôn
                        document.querySelectorAll('.minbox li').forEach((li, index) => {
                        li.style.background = `url('${shuffledMin[index % shuffledMin.length]}') no-repeat center/100% 100%`;
                        });

                        document.querySelectorAll('.maxbox li').forEach((li, index) => {
                        li.style.background = `url('${shuffledMax[index % shuffledMax.length]}') no-repeat center/100% 100%`;
                        });

                }
                

                // G·ªçi h√†m l·∫∑p m·ªói 10 gi√¢y
                toggleHover(); // L·∫ßn ƒë·∫ßu
                setInterval(toggleHover, 10000); // L·∫∑p l·∫°i m·ªói 10 gi√¢y
            });
        </script>
 
    </body>
</html>